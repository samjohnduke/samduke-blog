---

---

<section class="hero">
  <!-- Main content -->
  <div class="hero-main">
    <div class="hero-brush" aria-hidden="true">
      <svg width="60" height="6" viewBox="0 0 60 6" fill="none">
        <path d="M0,3 Q15,0.5 30,3 Q45,5.5 60,3" stroke="currentColor" stroke-width="0.75" stroke-linecap="round"/>
      </svg>
    </div>

    <h1 class="hero-name">
      <span class="hero-first">Sam</span>
      <span class="hero-last">Duke</span>
    </h1>

    <p class="hero-tagline">
      engineer — founder @ chameleon creator
    </p>

    <div class="hero-accent-line" aria-hidden="true"></div>
  </div>

  <!-- Window looking out onto a garden -->
  <div class="hero-window">
    <div class="hero-window-depth">
      <div class="hero-window-scene">
        <img src="/hero-garden.jpg" alt="" class="hero-window-img" loading="eager" />
      </div>
      <!-- Glass reflection -->
      <div class="hero-window-glass" aria-hidden="true"></div>
    </div>
  </div>
</section>

<style>
  .hero {
    position: relative;
    min-height: 92vh;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 4rem;
    max-width: 1100px;
    margin: 0 auto;
    padding: 6rem 4rem 4rem;
    overflow: hidden;
  }

  /* ── Main content ── */
  .hero-main {
    flex: 1;
    max-width: 520px;
    animation: heroReveal 1s var(--ease-settle) both;
  }

  @keyframes heroReveal {
    from {
      opacity: 0;
      transform: translateY(16px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .hero-brush {
    color: var(--color-border);
    margin-bottom: 2.5rem;
    opacity: 0.6;
  }

  .hero-name {
    font-family: var(--font-display);
    font-size: clamp(3.5rem, 8vw, 6rem);
    font-weight: 300;
    letter-spacing: -0.03em;
    line-height: 0.95;
    margin: 0 0 2rem;
    color: var(--color-text);
  }

  .hero-first,
  .hero-last {
    display: block;
  }

  .hero-last {
    margin-top: 0.1em;
  }

  .hero-tagline {
    font-family: var(--font-body);
    font-size: clamp(0.92rem, 1.5vw, 1.05rem);
    color: var(--color-text-secondary);
    line-height: 1.65;
    margin: 0 0 2rem;
    max-width: 420px;
  }

  .hero-accent-line {
    width: 50px;
    height: 1.5px;
    background: var(--color-accent);
    opacity: 0.45;
    margin-bottom: 2rem;
  }

  /* ── Window ── */
  .hero-window {
    flex-shrink: 0;
    width: min(340px, 28vw);
    height: min(480px, 40vw);
    /* Wooden window frame */
    background: linear-gradient(
      160deg,
      #9a836a 0%,
      #7a6347 20%,
      #8d7558 40%,
      #6b5538 60%,
      #7d6848 80%,
      #9a836a 100%
    );
    padding: 10px;
    border-radius: 3px;
    box-shadow:
      0 4px 12px rgba(44, 36, 24, 0.15),
      0 12px 40px rgba(44, 36, 24, 0.12),
      0 24px 70px rgba(44, 36, 24, 0.08),
      inset 0 1px 0 rgba(255, 255, 255, 0.12),
      inset 0 -1px 0 rgba(0, 0, 0, 0.2);
    opacity: 0;
    animation: windowAppear 1.2s ease-out 0.4s both;
  }

  @keyframes windowAppear {
    from {
      opacity: 0;
      transform: translateY(8px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Inner depth — the wall thickness around the opening */
  .hero-window-depth {
    position: relative;
    width: 100%;
    height: 100%;
    border-radius: 1px;
    overflow: hidden;
    box-shadow:
      inset 0 3px 8px rgba(0, 0, 0, 0.35),
      inset 0 1px 2px rgba(0, 0, 0, 0.25),
      inset 3px 0 6px rgba(0, 0, 0, 0.1),
      inset -3px 0 6px rgba(0, 0, 0, 0.1),
      inset 0 -2px 4px rgba(0, 0, 0, 0.15);
  }

  .hero-window-scene {
    width: 100%;
    height: 100%;
    overflow: hidden;
  }

  .hero-window-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center 30%;
    display: block;
    filter: saturate(0.9) contrast(0.95);
    transform: scale(1.15);
    transition: filter 0.8s ease, transform 0.6s cubic-bezier(0.22, 1, 0.36, 1);
    will-change: transform;
  }

  .hero-window:hover .hero-window-img {
    filter: saturate(1) contrast(1);
  }

  /* Glass overlay — subtle reflection */
  .hero-window-glass {
    position: absolute;
    inset: 0;
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.08) 0%,
      rgba(255, 255, 255, 0) 40%,
      rgba(255, 255, 255, 0) 60%,
      rgba(255, 255, 255, 0.04) 100%
    );
    pointer-events: none;
  }

  /* ── Mobile ── */
  @media (max-width: 900px) {
    .hero {
      gap: 2.5rem;
    }
    .hero-window {
      width: 260px;
      height: 370px;
    }
  }

  @media (max-width: 768px) {
    .hero {
      min-height: auto;
      padding: 7rem 1.5rem 2rem;
    }

    .hero-main {
      max-width: 100%;
    }

    .hero-name {
      font-size: clamp(3.5rem, 12vw, 5rem);
    }

    .hero-window {
      display: none;
    }
  }
</style>

<script>
  document.addEventListener('astro:page-load', () => {
    const img = document.querySelector<HTMLElement>('.hero-window-img');
    if (!img) return;

    const ac = new AbortController();
    const maxShift = 14;
    const scrollShift = 30;
    let mx = 0, my = 0, sy = 0;
    let rafId = 0;

    function update() {
      if (!rafId) {
        rafId = requestAnimationFrame(() => {
          img.style.transform = `scale(1.15) translate(${-mx * maxShift}px, ${-my * maxShift + sy}px)`;
          rafId = 0;
        });
      }
    }

    document.addEventListener('mousemove', (e) => {
      mx = (e.clientX / window.innerWidth - 0.5) * 2;
      my = (e.clientY / window.innerHeight - 0.5) * 2;
      update();
    }, { signal: ac.signal });

    window.addEventListener('scroll', () => {
      const t = Math.min(window.scrollY / window.innerHeight, 1);
      sy = -t * scrollShift;
      update();
    }, { passive: true, signal: ac.signal });

    document.addEventListener('astro:before-swap', () => ac.abort(), { once: true });
  });
</script>
